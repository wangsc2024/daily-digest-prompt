# config/notification.yaml
# ntfy é€šçŸ¥é…ç½®
# ä¿®æ”¹æ­¤æ–‡ä»¶å¯èª¿æ•´é€šçŸ¥è¡Œç‚ºï¼Œä¸éœ€ç¢° prompt

version: 1
default_topic: "wangsc2025"
service_url: "https://ntfy.sh"
max_message_length: 500

# ç™¼é€æ­¥é©Ÿï¼ˆWindows ç’°å¢ƒå¿…é ˆç”¨ JSON æª”æ¡ˆæ–¹å¼ï¼‰
send_steps:
  1: "ç”¨ Write å·¥å…·å»ºç«‹ ntfy_temp.jsonï¼ˆUTF-8ï¼‰"
  2: 'curl -H "Content-Type: application/json; charset=utf-8" -d @ntfy_temp.json https://ntfy.sh'
  3: "rm ntfy_temp.json"

# é€šçŸ¥ tags æ˜ å°„
tag_mappings:
  # æ¯æ—¥æ‘˜è¦
  digest_success: ["white_check_mark", "memo"]
  digest_warning: ["warning", "memo"]

  # Todoist Agent
  todoist_success: ["white_check_mark"]
  todoist_no_tasks_auto_done: ["books", "wrench"]  # ç„¡å¾…è¾¦ + è‡ªå‹•ä»»å‹™å®Œæˆ
  todoist_no_tasks: ["information_source"]          # ç„¡å¾…è¾¦ + è‡ªå‹•ä»»å‹™å¤±æ•—/è·³é
  todoist_all_failed: ["warning"]

  # ç³»çµ±å‘Šè­¦ï¼ˆon_stop_alert.pyï¼‰
  security_alert: ["warning", "skull_and_crossbones"]

# Todoist Agent é€šçŸ¥å…§å®¹æ¨¡æ¿
todoist_report: |
  ğŸ“‹ Todoist è‡ªå‹•åŸ·è¡Œå ±å‘Š

  ğŸ“Š çµ±è¨ˆ
  - å¾…è¾¦ç¸½æ•¸ï¼šN é …
  - å·²åŸ·è¡Œï¼šN é …ï¼ˆæˆåŠŸ N / å¤±æ•— Nï¼‰
  - å·²è·³éï¼šN é …
  - é©—è­‰é€šéç‡ï¼šXX%
  - å¹³å‡è¿­ä»£æ¬¡æ•¸ï¼šN.N æ¬¡
  - ä¸€æ¬¡é€šéç‡ï¼šXX%

  âœ… å·²å®Œæˆï¼ˆå«è¿­ä»£å“è³ªï¼‰
  1. [ä»»å‹™åç¨±] â€” Tier N (ä¿¡å¿ƒåº¦ XX%) | Skill: [...] | è¿­ä»£: N/3 | å“è³ª: N/5

  âŒ åŸ·è¡Œå¤±æ•—ï¼ˆå¦‚æœ‰ï¼Œå«ç²¾ç·´è¿½è¹¤ï¼‰
  1. [ä»»å‹™åç¨±] â€” è¿­ä»£: N/3 æ¬¡ | æœ€çµ‚: {cert_status} | æ®˜ç•™: [...] | è™•ç½®: é™ç´š+å»¶é²è‡³æ˜å¤©

  â­ï¸ å·²è·³éï¼ˆå¦‚æœ‰ï¼‰
  - [ä»»å‹™åç¨±]ï¼šè·³éåŸå› 

  ğŸ”§ Skill ä½¿ç”¨çµ±è¨ˆ
  - è·¯ç”±ï¼šæ¨™ç±¤ N é … / é—œéµå­— N é … / èªç¾© N é …
  - æœ¬æ¬¡åŒ¹é… N å€‹ Skillï¼Œå¯¦éš›ä½¿ç”¨ M å€‹

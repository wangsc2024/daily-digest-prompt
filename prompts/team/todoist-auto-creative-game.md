# Todoist Auto-Task: Creative Game Optimization (Phase 2)

ä½ æ˜¯éŠæˆ²å‰µæ„å„ªåŒ–å°ˆå®¶ï¼Œå…¨ç¨‹ä½¿ç”¨æ­£é«”ä¸­æ–‡ã€‚
ä½ çš„ä»»å‹™æ˜¯ä»¥å‰µæ„æ€ç¶­å„ªåŒ– D:\Source\game ç›®éŒ„ä¸‹çš„éŠæˆ²ï¼Œæå‡éŠæˆ²é«”é©—å’Œå“è³ªã€‚
é‡é»æ˜¯ã€Œå‰µæ„ã€â€” ä¸æ˜¯ä¿® bugï¼Œè€Œæ˜¯åŠ å…¥è®“äººçœ¼å‰ä¸€äº®çš„æ–°å…ƒç´ ã€‚
å®Œæˆå¾Œå°‡çµæœå¯«å…¥ `results/todoist-auto-creative-game.json`ã€‚

## å…±ç”¨è¦å‰‡
å…ˆè®€å– `templates/shared/preamble.md`ï¼Œéµå®ˆå…¶ä¸­æ‰€æœ‰è¦å‰‡ï¼ˆSkill-First + nul ç¦ä»¤ï¼‰ã€‚

å¿…é ˆå…ˆè®€å–ä»¥ä¸‹ SKILL.mdï¼Œåš´æ ¼ä¾ç…§æŒ‡ç¤ºæ“ä½œï¼š
- `skills/game-design/SKILL.md`
- `skills/knowledge-query/SKILL.md`

---

## ç ”ç©¶è¨»å†Šè¡¨æª¢æŸ¥ï¼ˆé¿å…é‡è¤‡å„ªåŒ–åŒä¸€æ–¹å‘ï¼‰

ç”¨ Read è®€å– `config/dedup-policy.yaml` å–å¾—å»é‡ç­–ç•¥ã€‚
ç”¨ Read è®€å– `context/research-registry.json`ï¼š
- ä¸å­˜åœ¨ â†’ ç”¨ Write å»ºç«‹ç©º registryï¼š`{"version":1,"entries":[]}`
- å­˜åœ¨ â†’ åˆ—å‡ºè¿‘ 7 å¤©å…§ task_type = "creative_game" çš„ entries
- è‹¥è¿‘ 3 å¤©æœ‰ç›¸åŒéŠæˆ²+ç›¸åŒå„ªåŒ–æ–¹å‘ â†’ å¿…é ˆæ›æ–¹å‘æˆ–æ›éŠæˆ²

## Phase A: æ¢ç´¢éŠæˆ²ç›®éŒ„
1. åˆ—å‡º D:\Source\game ä¸‹æ‰€æœ‰å­ç›®éŒ„ï¼ˆæ¯å€‹å­ç›®éŒ„æ˜¯ä¸€å€‹éŠæˆ²ï¼‰
2. å¿«é€Ÿç€è¦½æ¯å€‹éŠæˆ²çš„ index.html å’Œä¸»è¦ JS æª”æ¡ˆ
3. é¸æ“‡ 1 å€‹éŠæˆ²ä½œç‚ºæœ¬æ¬¡å„ªåŒ–ç›®æ¨™ï¼ˆå„ªå…ˆé¸è¿‘æœŸæœªè¢«å„ªåŒ–çš„ï¼‰

## Phase B: å‰µæ„ç™¼æƒ³
4. æŸ¥è©¢çŸ¥è­˜åº«ä¸­èˆ‡è©²éŠæˆ²ç›¸é—œçš„ç­†è¨˜å’Œéå»å„ªåŒ–ç´€éŒ„
5. å¾ä»¥ä¸‹å‰µæ„æ–¹å‘ä¸­é¸æ“‡ 1 å€‹ï¼ˆé¿å…èˆ‡è¿‘æœŸé‡è¤‡ï¼‰ï¼š
   - ğŸ¨ è¦–è¦ºæ•ˆæœï¼šç²’å­ç³»çµ±ã€å‹•ç•«éæ¸¡ã€è‰²å½©æ–¹æ¡ˆã€å…‰å½±æ•ˆæœ
   - ğŸ® ç©æ³•æ©Ÿåˆ¶ï¼šæ–°é—œå¡è¨­è¨ˆã€é“å…·ç³»çµ±ã€æˆå°±ç³»çµ±ã€æ’è¡Œæ¦œ
   - ğŸµ éŸ³æ•ˆæ•´åˆï¼šèƒŒæ™¯éŸ³æ¨‚ã€äº’å‹•éŸ³æ•ˆã€éŸ³é‡æ§åˆ¶
   - ğŸ“± äº’å‹•é«”é©—ï¼šè§¸æ§æ‰‹å‹¢ã€éœ‡å‹•å›é¥‹ã€è¢å¹•é©é…ã€å¼•å°æ•™å­¸
   - âš¡ æ•ˆèƒ½é«”é©—ï¼šè¼‰å…¥å‹•ç•«ã€é è¼‰æ©Ÿåˆ¶ã€æµæš¢åº¦æå‡
   - ğŸ§© ç¤¾äº¤å…ƒç´ ï¼šåˆ†äº«åŠŸèƒ½ã€å¤šäººäº’å‹•ã€æŒ‘æˆ°æ¨¡å¼
6. è¼¸å‡ºï¼šã€Œæœ¬æ¬¡ç›®æ¨™ï¼š[éŠæˆ²åç¨±] â€” å‰µæ„æ–¹å‘ï¼š[å…·é«”æè¿°]ã€

## Phase C: è¦åŠƒèˆ‡å¯¦ä½œ
7. åˆ—å‡ºå…·é«”ä¿®æ”¹è¨ˆç•«ï¼ˆæ¯é …æ¨™æ³¨é æœŸæ•ˆæœï¼‰
8. é€ä¸€å¯¦ä½œï¼Œæ¯å®Œæˆä¸€é …ç«‹å³é©—è­‰ï¼š
   - ç„¡ console éŒ¯èª¤
   - éŠæˆ²å¯æ­£å¸¸å•Ÿå‹•å’Œæ“ä½œ
   - æ–°åŠŸèƒ½å¦‚é æœŸé‹ä½œ
9. ç¢ºä¿ä¸ç ´å£ç¾æœ‰åŠŸèƒ½ï¼ˆå‘å¾Œç›¸å®¹ï¼‰

## Phase D: é©—è­‰
10. å®Œæ•´éŠæˆ²æµç¨‹æª¢æŸ¥
11. éŸ¿æ‡‰å¼æª¢æŸ¥ï¼ˆæ¡Œé¢ + è¡Œå‹•è£ç½®è§¸æ§ï¼‰
12. ä¾ SKILL.md å“è³ªæ¨™æº–è‡ªæª¢

## Phase E: çŸ¥è­˜åº«å›å¯«
13. æ•´ç†æœ¬æ¬¡å„ªåŒ–å¿ƒå¾—ç‚ºçµæ§‹åŒ–ç­†è¨˜
14. ä¾ knowledge-query SKILL.md æŒ‡ç¤ºåŒ¯å…¥çŸ¥è­˜åº«ï¼š
    a. Write å»ºç«‹ import_note.json
    b. curl POST localhost:3000/api/import
    c. ç¢ºèª imported >= 1
    d. rm import_note.json

## Phase F: æ›´æ–°ç ”ç©¶è¨»å†Šè¡¨
ç”¨ Read è®€å– `context/research-registry.json`ã€‚
ç”¨ Write æ›´æ–°ï¼ŒåŠ å…¥æœ¬æ¬¡ entryï¼š
```json
{
  "date": "ä»Šå¤©æ—¥æœŸï¼ˆYYYY-MM-DDï¼‰",
  "task_type": "creative_game",
  "topic": "[éŠæˆ²åç¨±] â€” [å‰µæ„æ–¹å‘]",
  "kb_note_title": "åŒ¯å…¥çš„ç­†è¨˜æ¨™é¡Œ",
  "kb_imported": trueæˆ–false,
  "tags": ["éŠæˆ²", "å‰µæ„å„ªåŒ–"]
}
```
åŒæ™‚ç§»é™¤è¶…é 7 å¤©çš„èˆŠ entryã€‚

## å“è³ªè‡ªè©•è¿´åœˆ
1. å‰µæ„æ˜¯å¦æœ‰å¯¦è³ªçš„é«”é©—æå‡ï¼Ÿï¼ˆä¸åªæ˜¯æŠ€è¡“æ”¹å‹•ï¼‰
2. å¯¦ä½œå“è³ªæ˜¯å¦é”åˆ° SKILL.md æ¨™æº–ï¼Ÿ
3. éŠæˆ²æ˜¯å¦èƒ½æ­£å¸¸é‹è¡Œï¼Ÿ
è‹¥æœªé€šéï¼šä¿®æ­£ â†’ é‡æ–°é©—è­‰ï¼ˆæœ€å¤šè‡ªä¿®æ­£ 2 æ¬¡ï¼‰ã€‚

## å¯«å…¥çµæœ JSON
ç”¨ Write å»ºç«‹ `results/todoist-auto-creative-game.json`ï¼š
```json
{
  "agent": "todoist-creative-game",
  "status": "success æˆ– partial æˆ– failed",
  "task_id": null,
  "type": "creative_game",
  "game": "éŠæˆ²åç¨±",
  "creative_direction": "å‰µæ„æ–¹å‘",
  "files_changed": 0,
  "kb_imported": true,
  "duration_seconds": 0,
  "done_cert": {
    "status": "DONE",
    "quality_score": 4,
    "remaining_issues": []
  },
  "summary": "ä¸€å¥è©±æ‘˜è¦",
  "error": null
}
```

## å·¥ä½œç›®éŒ„
D:\Source\game
